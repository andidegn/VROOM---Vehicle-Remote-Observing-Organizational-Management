/**
@mainpage Vroom Project

@section Abstract
    The purpose of this project is to develop a prototype of an eCall system, as an aftermarket solution. This means that this system works independently of car make and model as it does not utilise any of the cars internal components, except the battery. This includes older cars as well. This system is autonomous and intended to be plug n play, easy to use and at an affordable price.
    By installing this system in a vehicle, the driver can feel safe and rely on that help will arrive as-fast-as-possible, even in case of a solo accident where it is not possible to call for help. This system brings the driver closer to the help required in a given emergency. It also helps speed up the response time for the emergency personal as the relevant information about the emergency including the position of the car is transmitted directly.
    This prototype is not tested in a real car, however a remote control car is used for demonstrating and proof of concept.

@section Changelog
=====================================
Version 0.301 - 2015/01/14 by Kenneth
=====================================
New Features, Improvements
--------------------------

Fixed Bugs, Changes
-------------------
- Added defines for CMEE AT command in at_commands.h
- Disables CMME error code in sim908.c startup (AT+CMEE=0)
- Fixed bug in sim908.c when setting up contype to GPRS (changed from APN to CONTYPE)
- Switched the order for setting up GPS and GPRS, as sim-card needs to be detected, before FTP bearer can be set.

Known Bugs, Problems
--------------------
- !note CREG unsolicited response and Call Ready sometimes still miss
- Violation on some MISRA C 2004 rules: 
   + 5.4:  Enumerated type mixed with another type - the use of a tag shall agree with its declaration (required) 
   + 12.4: The right hand operand of an && or || operator shall not contain side effects (required) 
   + 12.7: Bitwise operations shall not be performed on signed integer types (required) 
   + 17.4: Pointer arithmetic should not be used (advised)
   + 19.10: In the definition of a function-like macro, each instance of a parameter shall be enclosed in parenthesis (required) 
   + 20.4: Dynamic heap memory allocation shall not be used (required) 
   + 20.10: The library functions atof, atoi, and atol from library <stdlib.h> shall not be used (required)


==================================
Version 0.300 - 2014/12/11 by Andi
==================================
New Features, Improvements
--------------------------
- Doxygen commenting added in all files
- Doxygen proofing in all files
- General code proofing

Fixed Bugs, Changes
-------------------

Known Bugs, Problems
--------------------
- !note CREG unsolicited response and Call Ready sometimes still miss
- !note If PIN is requered, wait for "+CPIN: SIM PIN" response (Hardcoded with 1 sec delay)
- Check for error code does not work in sim908.c function send_MSD(...) line 309
  Error code for Open Bearer AT command is: "+CME ERROR: 3"
- Violation on some MISRA C 2004 rules: 
   + 5.4:  Enumerated type mixed with another type - the use of a tag shall agree with its declaration (required) 
   + 12.4: The right hand operand of an && or || operator shall not contain side effects (required) 
   + 12.7: Bitwise operations shall not be performed on signed integer types (required) 
   + 17.4: Pointer arithmetic should not be used (advised)
   + 19.10: In the definition of a function-like macro, each instance of a parameter shall be enclosed in parenthesis (required) 
   + 20.4: Dynamic heap memory allocation shall not be used (required) 
   + 20.10: The library functions atof, atoi, and atol from library <stdlib.h> shall not be used (required)


=====================================
Version 0.207 - 2014/12/11 by Kenneth
=====================================
New Features, Improvements
--------------------------
- Added unit test for calculating EPOCH seconds in time.c 

Fixed Bugs, Changes
-------------------

ToDo
----		
- Doxygen missing in following files:
   + scheduler.c
   + test_module_sensors.c / test_module_sensors.h
   + test_module_car_panel.c / test_module_car_panel.h
   + test_module_uart.c / test_module_uart.h
   + time.c / time.h
- Doxygen proofing in all files  

Known Bugs, Problems
--------------------
- !note CREG unsolicited response and Call Ready sometimes still miss
- !note If PIN is requered, wait for "+CPIN: SIM PIN" response (Hardcoded with 1 sec delay)
- Check for error code does not work in sim908.c function send_MSD(...) line 309
  Error code for Open Bearer AT command is: "+CME ERROR: 3"
- Violation on some MISRA C 2004 rules: 
   + 5.4:  Enumerated type mixed with another type - the use of a tag shall agree with its declaration (required) 
   + 12.4: The right hand operand of an && or || operator shall not contain side effects (required) 
   + 12.7: Bitwise operations shall not be performed on signed integer types (required) 
   + 17.4: Pointer arithmetic should not be used (advised)
   + 19.10: In the definition of a function-like macro, each instance of a parameter shall be enclosed in parenthesis (required) 
   + 20.4: Dynamic heap memory allocation shall not be used (required) 
   + 20.10: The library functions atof, atoi, and atol from library <stdlib.h> shall not be used (required)


==================================
Version 0.206 - 2014/12/10 by Andi
==================================
New Features, Improvements
--------------------------

Fixed Bugs, Changes
-------------------
- Fixed critical error in sim908.c. All SIM908_cmd() calls now correctly retries when an "OK" response is needed

ToDo
----		
- Doxygen missing in following files:
   + scheduler.c
   + test_module_sensors.c / test_module_sensors.h
   + test_module_car_panel.c / test_module_car_panel.h
   + test_module_uart.c / test_module_uart.h
   + time.c / time.h
- Doxygen proofing in all files  

Known Bugs, Problems
--------------------
- !note CREG unsolicited response and Call Ready sometimes still miss
- !note If PIN is requered, wait for "+CPIN: SIM PIN" response (Hardcoded with 1 sec delay)
- Check for error code does not work in sim908.c function send_MSD(...) line 309
  Error code for Open Bearer AT command is: "+CME ERROR: 3"
- Violation on some MISRA C 2004 rules: 
   + 5.4:  Enumerated type mixed with another type - the use of a tag shall agree with its declaration (required) 
   + 12.4: The right hand operand of an && or || operator shall not contain side effects (required) 
   + 12.7: Bitwise operations shall not be performed on signed integer types (required) 
   + 17.4: Pointer arithmetic should not be used (advised)
   + 19.10: In the definition of a function-like macro, each instance of a parameter shall be enclosed in parenthesis (required) 
   + 20.4: Dynamic heap memory allocation shall not be used (required) 
   + 20.10: The library functions atof, atoi, and atol from library <stdlib.h> shall not be used (required)


=====================================
Version 0.205 - 2014/12/08 by Kenneth
=====================================
New Features, Improvements
--------------------------
- All files MISRA C 2004 checked

Fixed Bugs, Changes
-------------------
- Changed time.c / time.h structure

ToDo
----		
- Doxygen missing in following files:
   + scheduler.c
   + test_module_sensors.c / test_module_sensors.h
   + test_module_car_panel.c / test_module_car_panel.h
   + test_module_uart.c / test_module_uart.h
   + time.c / time.h
- Doxygen proofing in all files  

Known Bugs, Problems
--------------------
- !note CREG unsolicited response and Call Ready sometimes still miss
- !note If PIN is requered, wait for "+CPIN: SIM PIN" response (Hardcoded with 1 sec delay)
- Check for error code does not work in sim908.c function send_MSD(...) line 309
  Error code for Open Bearer AT command is: "+CME ERROR: 3"
- Violation on some MISRA C 2004 rules: 
   + 5.4:  Enumerated type mixed with another type - the use of a tag shall agree with its declaration (required) 
   + 12.4: The right hand operand of an && or || operator shall not contain side effects (required) 
   + 12.7: Bitwise operations shall not be performed on signed integer types (required) 
   + 17.4: Pointer arithmetic should not be used (advised)
   + 19.10: In the definition of a function-like macro, each instance of a parameter shall be enclosed in parenthesis (required) 
   + 20.4: Dynamic heap memory allocation shall not be used (required) 
   + 20.10: The library functions atof, atoi, and atol from library <stdlib.h> shall not be used (required)


=====================================
Version 0.201 - 2014/12/03 by Kenneth
=====================================
New Features, Improvements
--------------------------
- Added EMERGENCY_FALSE_ALARM flag to set when system is reset (on cancel button after an alarm)
  This is necessary in order to determine whether the scheduler should be released or not after an emergency call

Fixed Bugs, Changes
-------------------
- Fixed bug in send_MSD() in sim908.c (Redundant check if uint is > -1)
- Design and structure changes: 
   + Added new folder "application" which holds the scheduler.h / scheduler.c, timer.c / timer.h, 
     run.c and vroom_config.h. 
   + Added scheduler_pause();, scheduler_resume(bool __clear_TIFR); and scheduler_halt(); functions in scheduler.c
- Cleaned for unused includes

ToDo
----		
- MISRA check all files
- Doxygen missing in following files:
   + scheduler.c
   + test_module_sensors.c / test_module_sensors.h
   + test_module_car_panel.c / test_module_car_panel.h
   + test_module_uart.c / test_module_uart.h
   + time.c / time.h
- Doxygen proofing in all files  

Known Bugs, Problems
--------------------
- !note CREG unsolicited response and Call Ready sometimes still miss at
- !note If PIN is requered, wait for "+CPIN: SIM PIN" response (Hardcoded with 1 sec delay)
- Check for error code does not work in sim908.c function send_MSD(...) line 309
  Error code for Open Bearer AT command is: "+CME ERROR: 3"


==================================
Version 0.200 - 2014/12/03 by Andi
==================================
New Features, Improvements
--------------------------
- Changed sensor_scheduler to scheduler.h/ scheduler.c so that it is the scheduler for the whole system
- Added detection logic to scheduler.c
- Added solicited CREG check to _wait_for_connection function to make sure system does not freeze if an unsolicited
   CREG command should be missed

Fixed Bugs, Changes
-------------------
- Fixed unstability in communication with sim908 module by pausing scheduler timer in the _SIM908_callback function
   and clearing the _rx_response_length, _CR_counter and _LF_counter before each command is sent.
   This seems to have fixed most, if not all, communication problems and the system is now running stable at a frq of 
   1KHz on the scheduler timer with a system load around 50%
- !note CREG unsolicited response and Call Ready sometimes still miss
  
ToDo
----		
- MISRA check all files
- Doxygen structure proofing in all files
- Notes SIM908:
   + If PIN is requered, wait for "+CPIN: SIM PIN" response (Hardcoded with 1 sec delay)


=====================================
Version 0.163 - 2014/12/03 by Kenneth
=====================================
New Features, Improvements
--------------------------
- Added functions in timer.c to store interrupt flag registers and pause all timers and then restore the registers when resuming
- Moved recording of optional data values (acceleration and temperature) to MSD optional data function, as it is redundant 
   to calculate everytime it checks for accidents.
- Added module test for Car Panel: test_module_car_panel
- Minor (renaming of local variable) bug fixed in SPI driver

Fixed Bugs, Changes
-------------------
- Fixed bug in starting timer when an automatically accident has triggered
- MSD version 2: Changed structure of encoding optional data, so that only values is sent
- Added check for emmergency flags, when setting the status LED on car panel. This is done so that it lights up red while sending
   and green when it is done sending.
- Renamed UnitTest to test_unit
- Discarded unit test implementation for MSD as all the functions to set MSD are static

ToDo
----		
- MISRA check all files
- Doxygen structure proofing in all files
- Notes SIM908:
   + If PIN is requered, wait for "+CPIN: SIM PIN" response (Hardcoded with 1 sec delay)


==================================
Version 0.162 - 2014/12/03 by Andi
==================================
New Features, Improvements
--------------------------
- Following files has been doxygen commented/proofed and should be ready for MISRA check:
   + accident_data.h
   + accident_data.c
   + accident_detection.h
   + accident_detection.c
   + spi.h
   + spi.c
   + uart.h
   + uart.c
   + car_panel.h
   + car_panel.c
   + at_commands.h
   + sim908.h
   + sim908.c
   + lis331hh.h
   + lis331hh.c
   + tc72.h
   + tc72.c
   + sensor_scheduler.h
   + vroom_config.h

Fixed Bugs, Changes
-------------------
- Added additional debug option in sim908.c. Can be enabled in vroom_config.h
- Tweaked uart communication with sim908 module for smooth and error free operation
- Tested different sensor reading/accident detection frequencies, 50Hz seems to be stable
- Running endurance test sending crash report (~2500 successful reports so far)

ToDo
----		
- MISRA check all files
- Impl. module test for car panel
- Impl. unit test for MSD
- Doxygen structure proofing in all files
- Notes SIM908:
   + If PIN is requered, wait for "+CPIN: SIM PIN" response (Hardcoded with 1 sec delay)


==================================
Version 0.161 - 2014/12/01 by Andi
==================================
New Features, Improvements
--------------------------
- Following files has been doxygen commented/proofed and should be ready for MISRA check:
   + accident_data.h
   + accident_data.c
   + accident_detection.h
   + accident_detection.c
   + spi.h
   + spi.c
   + uart.h
   + uart.c
   + car_panel.h
   + car_panel.c
   + at_commands.h
   + sim908.h
   + sim908.c
   + vroom_config.h


Fixed Bugs, Changes
-------------------
- Removed ISR block and global interrupt disable in car_panel.c to fix blocking bug if 
   alarm is triggered before connection to isp is established
- Minor stability changes in sim908.c
- Moved and renamed TEMPERATURE_INITIAL to vroom_config.h\CONFIG_ALARM_FIRE_TEMP_INIT
   to fix first read = 0, which sometimes triggered alarm on startup
- Fixed unstable and unreliable communication with sim908 module by pausing timers 
   when waiting for AT reaponse
- Changed accident_detection_start/stop to start/stop both timers (same fucntion is 
   used to fix unreliable communication with sim908 module)

ToDo
----		
- MISRA check all files
- Impl. module test for car panel
- Impl. unit test for MSD
- Doxygen structure proofing in all files
- Notes SIM908:
   + If PIN is requered, wait for "+CPIN: SIM PIN" response (Hardcoded with 1 sec delay)


=====================================
Version 0.160 - 2014/12/01 by Kenneth
=====================================
New Features, Improvements
--------------------------
- Added accident_detection.h/ accident_detection.c and added check_for_fire() function
- Added scheduler_temp_get_last_reading() function in sensor_scheduler.h/ sensor_scheduler.c
- Added timer to control check of accidents and added parameters in vroom.config.h
- Added extern variables to record sensor data used for MSD (temperature and acceleration)
   and changed the structure, so it now sends the values together with MSD

Fixed Bugs, Changes
-------------------
- Removed some warnings in several files
- Renamed function names in sensor_scheduler.h/ sensor_scheduler.c and accident_data.h/ accident_data.c
   and renamed the defines in vroom_config.h
- Moved check_for_crash() into accident_detection file

ToDo
----		
- MISRA check all files
- Impl. module test for car panel
- Impl. unit test for MSD
- Doxygen structure proofing in all files
- Notes SIM908:
   + If PIN is requered, wait for "+CPIN: SIM PIN" response (Hardcoded with 1 sec delay)


==================================
Version 0.150 - 2014/11/29 by Andi
==================================
New Features, Improvements
--------------------------
- Added scheduler_get_last_readings_sum() function in sensor_scheduler.h/ sensor_scheduler.c for getting
   a predifined number of readings for crash detection. Number is defined in vroom_config.h
- Added ad_check_for_crash() function in accident_data.h/ accident_data.c containing crash detection
   logic. Parameters for detection (threashold / no. of readings to check over) is contained
   in vroom_config.h

Fixed Bugs, Changes
-------------------
- Changed the way CREG is read to speed up the ISR in sim908.c. This include changes in
   the way CREG is checked and the enum in which the different CREG states is held is
   moved to at_commands.c to conform with convention
- Fixed false CREG connection status if "AT+CREG?" was sent

ToDo
----		
- MISRA check all files
- Impl. module test for car panel
- Impl. unit test for MSD
- Doxygen structure proofing in all files
- Notes SIM908:
   + If PIN is requered, wait for "+CPIN: SIM PIN" response (Hardcoded with 1 sec delay)


=====================================
Version 0.141 - 2014/11/28 by Kenneth
=====================================
New Features, Improvements
--------------------------
- Added DEBUG_LCD define in vroom.config and added check where needed
- Added template for module_test_car_panel
- Cleaned for unused code

Fixed Bugs, Changes
-------------------
- Baudrate in SIM908 is set as the first thing as the reseting behaviour 
   of the module is unpredictible (based on experience)

ToDo
----		
- MISRA check all files
- Impl. module test for car panel
- Impl. unit test for MSD
- Accident algoritm 
- Doxygen structure proofing in all files
- Notes SIM908:
   + If PIN is requered, wait for "+CPIN: SIM PIN" response (Hardcoded with 1 sec delay)


=====================================
Version 0.140 - 2014/11/24 by Kenneth
=====================================
New Features, Improvements
--------------------------
- New structure of MSD: 
   + Added Version, Message Identifier, Vehicle Class and Fuel Type definitions
   + Deleted IPV4.
- Added parameters for MSD into VROOM.config.h

Fixed Bugs, Changes
-------------------
- IP is no longer relevant as new eCall standard for MSD has deleminated this

ToDo
----		
- MISRA check all files
- Split up module test in individual files
- Module test for car panel needed
- Doxygen structure proofing in all files
- Notes SIM908:
   + If PIN is requered, wait for "+CPIN: SIM PIN" response (Hardcoded with 1 sec delay)


=====================================
Version 0.131 - 2014/11/21 by Kenneth
=====================================
New Features, Improvements
--------------------------
- Added AT command to activate PDP context. The status must be 'Call Ready' before it can be activated 
- Added AT command to get the sevice provider IPV4. Needs to be added in MSD

Fixed Bugs, Changes
-------------------
- Fixed bug in _check_response in sim908  (strlen() used instead of sizeof() in array). 
  
ToDo
----		
- MISRA check all files
- Split up module test in individual files
- Module test for car panel needed
- Doxygen structure proofing in all files
- ToDo in SIM908:
   + Get the IP from response
   + Check for "Call Ready" response
- Problems in SIM908:
   + Sometimes 'O' is missing in the "OK" response (Don't know if this is fixed yet)
   + If PIN is requered, wait for "+CPIN: SIM PIN" response (Hardcoded with 1 sec delay)


============================================
Version 0.130 - 2014/11/20 by Andi & Kenneth
============================================
New Features, Improvements
--------------------------
- Added reset functionality after emergency call in case of false alarm

Fixed Bugs, Changes
-------------------
- Chaneged car_panel functionality structure
- Added doxygen comments in some files

ToDo
----		
- MISRA check all files
- Split up module test in individual files
- Module test for car panel needed
- Doxygen structure proofing in all files
- Problems in SIM908:
   + Sometimes 'O' is missing in the "OK" response
   + CREG is sometimes detected as not connected, even though +CREG: 1
   + If PIN is requered, wait for "+CPIN: SIM PIN" response (Hardcoded with 1 sec delay)


==================================
Version 0.126 - 2014/11/19 by Andi
==================================
New Features, Improvements
--------------------------
- Added UART module test for testing with minunit macro
- Added UART module test section in run.c\main
- Added/proofed Doxygen comments in:
   + accident_data.h
   + accident_data.c
   + spi.h
   + spi.c
   + uart.h
   + uart.c
   + car_panel.h
   + car_panel.c
   + at_commands.h

Fixed Bugs, Changes
-------------------
- Tweaked startup procedure in sim908.c. Module starts up much faster now
- Added system-ready check in sim908.c so that startup delay is not nessesary
- Minor change in uart.c. uartX_read_char() do not try to read from the buffer if a callback is defined

ToDo
----		
- MISRA check all files
- Split up module test in individual files
- Module test for car panel needed
- Doxygen structure proofing in all files


=====================================
Version 0.125 - 2014/11/17 by Kenneth
=====================================
New Features, Improvements
--------------------------
- Car panel init function changed so that it does not enable interrupts. car panel start function added instead
- Doxygen comments added in car_panel.h/ car_panel.c, sim908.h/ sim908.c and accident_data.h/ accident_data.c

Fixed Bugs, Changes
-------------------
- Deleted unused files (ab-encoder, Andi's version of sim908 driver, led_on_plane)
- Deleted unused code in main
- Changed naming on extern variables
- Changed naming on enums in accident data
- Removed unused defines in SIM908.h
- Added volatile parameter for flag in _wait_response in SIM908 to to avoid warning

ToDo
----	
- MISRA check all files
- Split up module test in individual files
- Module test for car panel needed
- Integrate the UART test in the unit test platform 
- Doxygen structure proofing in all files
- Comments in SIM908 ISR
- Include file for all common libraries


==================================
Version 0.120 - 2014/11/14 by Andi
==================================
New Features, Improvements
--------------------------
- Moved a lot of defines into vroom_config.h
- Added schedular_get_last_readings() function in sensor_scheduler

Fixed Bugs, Changes
-------------------
- Changed a lot of defines into macros for generality in sim908.h
- Updated corrosponding code in sim908.h
- Fixed naming in spi, uart and sensor_scheduler
- Updated comments in spi and uart
- Fixed simple alarm-trigger test in run.c, axis^2 became too large.
   + Changed acc_total to uint32_t instead of int32_t
   + Changed multiplier in sensor_scheduler to accommodate for smaller value

ToDo
----	
- MISRA check all files
- missing commenting in btn_led_lcd and led_on_plane and a lot of others
- Split up module test in individual file, instead of having it in main


==================================
Version 0.111 - 2014/11/13 by Andi
==================================
New Features, Improvements
--------------------------
- Added circular buffer in sensor_scheduler for accelerometer readings
- Made x, y and z axis buffers in sensor_scheduler extern so that reading can
   happen independent of the scheduler

Fixed Bugs, Changes
-------------------
- Fixed accelerometer. Setup, scale and sensibility now works

ToDo
----	
- MISRA check all files
- missing commenting in btn_led_lcd and led_on_plane and a lot of others
- Split up module test in individual file, instead of having it in main


============================================
Version 0.110 - 2014/11/11 by Kenneth & Andi
============================================
New Features, Improvements
--------------------------
- Memory leak in MSD optional data fixed
- Implemented function to get GPS response and split it into sub-strings
- Implemented check for CREG status
- Added connection_status_flag which is set at anytime CREG changes
- Implemented MSD filename based on time stamp for GPS response
- Car panel driver finetuned
- Main and SIM908 cleaned for unused code

Fixed Bugs, Changes
-------------------

ToDo
----	
- MISRA check all files
- missing commenting in btn_led_lcd and led_on_plane
- Split up module test in individual file, instead of having it in main


=====================================
Version 0.104 - 2014/11/10 by Kenneth
=====================================
New Features, Improvements
--------------------------
- Implemented functions to convert (a hardcoded) GPS response into MSD data structure.
- Added emergency flag (Needed to do that because it locks in the car_panel ISR, when alarm is manually set)
- Added appended string for file naming MSD file, including a VROOM_ID defined in the config header (just set to phone number).

Fixed Bugs, Changes
-------------------
- Fixed bug in function for calculating course
- Changed latitude/longitude function so that it stores the data in milliarcseconds

ToDo
----	
- MISRA check all files
- missing commenting in btn_led_lcd and led_on_plane
- Split up module test in individual file, instead of having it in main
- Needs to store the GPS response somehow
- Needs to check for CREG 
- INFO: System needs to send data before making the phone call as the system is busy when calling


=====================================
Version 0.103 - 2014/11/07 by Kenneth
=====================================
New Features, Improvements
--------------------------
- Added prototype for _get_GPS_response function in SIM908.c
- Added function _set_MSD_filename(char *__UTC_raw); in SIM908 (Replaces the functing UTC_string in accident_data.c)
- Added prototype for set_MSD_data function in SIM908
- Implemented emergency_alarm function in accident_data and changed the structure completly
- Added vroom_config header file for configuration

Fixed Bugs, Changes
-------------------

ToDo
----	
- MISRA check all files
- missing commenting in btn_led_lcd and led_on_plane
- Split up module test in individual file, instead of having it in main
- PROBLEM: When sensor reading routine (sensor scheduler) get interrupted, it freezes


===================================
Version 0.100 - 2014/11/07 by Andi
===================================
New Features, Improvements
--------------------------
- Implemented validation check on SIM908 module
- Implemented response capability on SIM908
- Implemented circular buffer for response in SIM908 driver
- Implemented a _char_at(int index) function for the circular buffer

Fixed Bugs, Changes
-------------------
- Fixed startup procedure so that module resets more reliably when uploading software
- Fixed latitude and longitude binary bug by creating new function: 
   + uartX_send_data(uint8_t data, uint8_t length). Problem was that uartX_send_string skips
     zero (0x00) bytes as it is detected as the null char ('\0')

ToDo
----	
- MISRA check all files
- missing commenting in btn_led_lcd and led_on_plane
- Split up module test in individual file, instead of having it in main
- PROBLEM: When sensor reading routine (sensor scheduler) get interrupted, it freezes


=====================================
Version 0.099 - 2014/11/03 by Kenneth
=====================================
New Features, Improvements
--------------------------

Fixed Bugs, Changes
-------------------
- Implemented cancel_emmergency function in car_panel
- Fixed minor bug in accident_data
- Added uart_send_byte function in uart, to be able to send 4 bytes "small numbers"

ToDo
----	
- MISRA check all files
- missing commenting in btn_led_lcd and led_on_plane
- Split up module test in individual file, instead of having it in main
- PROBLEM: When sensor reading routine (sensor scheduler) get interrupted, it freezes
- PROBLEM: latitude and longitude are not correct when sent binary


===================================
Version 0.098b - 2014/11/01 by Andi
===================================
New Features, Improvements
--------------------------

Fixed Bugs, Changes
-------------------
- Removed timer from car_panel and substituded a delay instead
- Renamed functions to car_panel_XXXX to make it easier to use

ToDo
----	
- MISRA check all files
- missing commenting in btn_led_lcd and led_on_plane
- Split up module test in individual file, instead of having it in main
- PROBLEM: When sensor reading routine (sensor scheduler) get interrupted, it freezes
- PROBLEM: latitude and longitude are not correct when sent binary


=====================================
Version 0.098 - 2014/10/27 by Kenneth
=====================================
New Features, Improvements
--------------------------
- Send MSD function implemnted. Now sends 140 bytes binary to FTP server
- Added car_panel driver. Not yet tested (ISR is not yet implented)

Fixed Bugs, Changes
-------------------
- Fixed bug caused by memory padding (used __attribute__((packed)) 
   in order to tell compiler that structure should be packed 

ToDo
----	
- MISRA check all files
- missing commenting in btn_led_lcd and led_on_plane
- Split up module test in individual file, instead of having it in main
- PROBLEM: When sensor reading routine (sensor scheduler) get interrupted, it freezes
- PROBLEM: latitude and longitude are not correct when sent binary
- Implement ISR in in car_panel


=====================================
Version 0.096 - 2014/10/21 by Kenneth
=====================================
New Features, Improvements
--------------------------
- Finished structure of MSD
- Started implementing send_msb() function, which starts a session 
   and sends the MSB struct over FTP (not a pretty solution so far)
- Added an integration test in main, which sends MSB to FTP server when temperature > 28 degrees.
   This resulted in the problem descriped under ToDo

Fixed Bugs, Changes
-------------------
- FTP put file name is now the modified string of GPS UTC time (UTC_string)

ToDo
----	
- MISRA check all files
- missing commenting in btn_led_lcd and led_on_plane
- Split up module test in individual file, instead of having it in main
- PROBLEM: When sensor reading routine (sensor scheduler) get interrupted, it freezes


=====================================
Version 0.095 - 2014/10/20 by Kenneth
=====================================
New Features, Improvements
--------------------------
- Added time.h/ time.c to get UTC time in milliseconds
- Started implementing structire of MSD

Fixed Bugs, Changes
-------------------

ToDo
----	
- MISRA check all files
- missing commenting in btn_led_lcd and led_on_plane
- Split up module test in individual file, instead of having it in main

=====================================
Version 0.09 - 2014/10/15 by Kenneth
=====================================
New Features, Improvements
--------------------------
- Added working setup function for data communication in SIM908 module.
   For testing purposses it is set to append an existing .txt file on the FTP server.
! Note: Sending/writing to FTP are still not implemented, but is tested manually. 

Fixed Bugs, Changes
-------------------

ToDo
----	
- MISRA check all files
- missing commenting in btn_led_lcd and led_on_plane
- Split up module test in individual file, instead of having it in main


=====================================
Version 0.083 - 2014/10/13 by Kenneth
=====================================
New Features, Improvements
--------------------------
- Added integration test for sensor module and SIM908 module in main function
- Added loop-back to PC option in SIM908 driver using UART1
- Added relevant AT commands for GPRS in header file

Fixed Bugs, Changes
-------------------
- Renamed SIM908_gsm to SIM908, as this driver will be for the whole module
- SIM908_init() structure changes, so that it only initiates the module
- SIM908_start() function added to setup the module
- GPS started and reset in SIM908_start();

ToDo
----	
- MISRA check all files
- missing commenting in btn_led_lcd and led_on_plane
- Split up module test in individual file, instead of having it in main


=====================================
Version 0.082 - 2014/10/07 by Kenneth
=====================================
New Features, Improvements
--------------------------
- Added timeout check in call_PSAP function in SIM908 driver
- Added timeout check for AT response in SIM908 driver
- New structure/optimized the driver, so that no busy waiting in SIM908_cmd function is needed 
- Added some relevant AT commands in header file
- Added baud sync and setup commands in SIM908 init function
- Added doxygen comments in SIM908 driver and Timer

Fixed Bugs, Changes
-------------------
- Removed timeout in SIM908 init function
- Removed unit test of _SIM908_check_response function in SIM908 driver, as it didn't maked sense anymore

ToDo
----	
- MISRA check all files
- missing commenting in btn_led_lcd and led_on_plane
- Split up module test in individual file, instead of having it in main


=====================================
Version 0.081 - 2014/10/01 by Kenneth
=====================================
New Features, Improvements
--------------------------
- In timer.c: Added timer 3 in CTC mode for counting a value used in timeout check
- In SIM908 driver: Added timeout check in init function
- Added call_PSAP() function in SIM908 driver to repeatedly make the call until it gets the correct response
- Added module test for sensors

Fixed Bugs, Changes
-------------------
- Changed filename for module test for sensors
- Changed structure of SIM908 driver so that it has a callback 
- Rearanged/cleaned up main (Only KENNETH_TEST)

ToDo
----	
- MISRA check all files
- missing commenting in btn_led_lcd and led_on_plane
- Split up module test in individual file, instead of having it in main
- Unit Test does not store result for all tests


=====================================
Version 0.08 - 2014/09/30 by Kenneth
=====================================
New Features, Improvements
--------------------------
- In SIM908 driver: Added response and command check for AT SET commands
- In SIM908 driver: Added self-reset in case of no response in init function 
- In Unit Test: Added unit test function for the command and response check
- Started implementing module test for sensors

Fixed Bugs, Changes
-------------------

ToDo
----	
- MISRA check all files
- missing commenting in btn_led_lcd and led_on_plane
- Split up module test in individual file, instead of having it in main
- Unit Test does not store result for all tests


===================================
Version 0.071a - 2014/09/26 by Andi
===================================
New Features, Improvements
--------------------------
- Added read function in UART so that it is not required to use callback
   to read from the uart bus
- Added a module test for the UART
- Added testing templet for module tests in run.c

Fixed Bugs, Changes
-------------------

ToDo
----	
- MISRA check on usart0-1, accelerometer, btn_led_lcd and led_on_plane
- missing commenting in btn_led_lcd and led_on_plane
- In GSM add check for response and act if error 
- Split up module test in individual file, instead of having it in main



=====================================
Version 0.071 - 2014/09/26 by Kenneth
=====================================
New Features, Improvements
--------------------------
- Added condition to avoid empty strings when writing to UART (was already there)
- Added simple GSM driver for initiating sim908 and sending AT commands

ToDo
----	
- MISRA check on usart0-1, accelerometer, btn_led_lcd and led_on_plane
- missing commenting in btn_led_lcd and led_on_plane
- In GSM add check for response and act if error 
- Split up module test in individual file, instead of having it in main



=================================
Version 0.07 - 2014/09/21 by Andi
=================================
New Features, Improvements
--------------------------
- Added initial gsm files with simple init and other functions for testing
- Updated main to test gsm communication
- Added UART pass-through to be able to monitor communication between MCU
   and gsm/gps shield from terminal

Fixed Bugs, Changes
-------------------

ToDo
----	
- MISRA check on usart0-1, accelerometer, btn_led_lcd and led_on_plane
- missing commenting in btn_led_lcd and led_on_plane



==================================
Version 0.06e - 2014/09/21 by Andi
==================================
New Features, Improvements
--------------------------

Fixed Bugs, Changes
-------------------
- Added callback option in sensor_scheduler for the UART

ToDo
----	
- MISRA check on usart0-1, accelerometer, btn_led_lcd and led_on_plane
- missing commenting in btn_led_lcd and led_on_plane

Note
----
- Analysis functionality now working from sensor_scheduler. Problem was
   baud rate too high and minor errors in UART driver (Was fixed in 0.06d)



==================================
Version 0.06d - 2014/09/20 by Andi
==================================
New Features, Improvements
--------------------------
- Improved UART driver to be more userfriendly
- Upgraded the buffer inside the UART driver to be circular
   so that it needs less memory to work properly

Fixed Bugs, Changes
-------------------
- Changed UART drivers to be in one file instead of two

ToDo
----	
- MISRA check on usart0-1, accelerometer, btn_led_lcd and led_on_plane
- missing commenting in btn_led_lcd and led_on_plane



==================================
Version 0.06c - 2014/09/18 by Andi
==================================
New Features, Improvements
--------------------------
- Added cs pin parameter in the init functions of the tc72 and accelerometer driver to accommodate
   SPI splitter hardware
- Updated MemoryMap file

Fixed Bugs, Changes
-------------------
- fixed minor errors

ToDo
----	
- MISRA check on usart0-1, accelerometer, btn_led_lcd and led_on_plane
- missing commenting in btn_led_lcd and led_on_plane



============================================
Version 0.06b - 2014/09/17 by Andi & Kenneth
============================================
New Features, Improvements
--------------------------
- Improved sensor_scheduler to work autonomously from the main program using a timer and a 
   state-machine
- Updated main to work properly with analysis tool by sending accelerometer data at a working
   rate for analysis to be conducted in real-time without any latency. Test was conducted at 
   ~110Hz

Fixed Bugs, Changes
-------------------
- fixed minor errors

ToDo
----	
- MISRA check on usart0-1, accelerometer, btn_led_lcd and led_on_plane
- missing commenting in btn_led_lcd and led_on_plane



=================================
Version 0.06 - 2014/09/16 by Andi
=================================
New Features, Improvements
--------------------------
- Improvements in usart0-1:
	- USART_CHAR_SIZE enum changed and switch-case added in usartN_setup_async(...) function
	  as the identifier in USART_8_BIT and USART_9_BIT was the same
	- Added "+0.5F" to the CALC_UBRRn macro to make sure it rounds off rather than truncating
	- Changed sending functionality to use an ISR instead of waiting for empty transmition
	  register
	- Added a local buffer for transmit data to accommodate transmission of strings. It is 
	  possible to keep adding to this buffer witout loss of data if the buffer is not empty at
	  the time of transmission
	- "operational_mode" bit(s) are no longer being written to UCSRnC register as synchronous		  
	  and master SPI modes are not implemented
	- Name changed to UART as only the asynchronous modes are implemented
- Updated main to work properly with analysis tool

Fixed Bugs, Changes
-------------------
- fixed minor errors

ToDo
----	
- MISRA check on usart0-1, accelerometer, btn_led_lcd and led_on_plane
- missing commenting in btn_led_lcd and led_on_plane



=================================
Version 0.05 - 2014/09/15 by Andi
=================================
New Features, Improvements
--------------------------
- added usart driver for USART0 and USART1
- re-added state machine in accelerometer and tc72 to avoid return of garbage data in the callback    
   routine
- setup usart transmission for testing with pc. it sends the accelerometer data
- re-written the accelerometer driver to be able to take setup parameters
- added LED driver for LEDs on aircraft on PORTB
- added LED and switch driver for the LCD board on PORTK (no available ISR for rotary encoder)
- added memory map file with port/pin information from all drivers
- completed doxygen documentation in usart0-1 and accelerometer
- updated main to include tests

Fixed Bugs, Changes
-------------------
- fixed minor errors

ToDo
----	
- MISRA check on usart0-1, accelerometer, btn_led_lcd and led_on_plane
- missing commenting in btn_led_lcd and led_on_plane



====================================
Version 0.04 - 2014/09/11 by Kenneth
====================================
New Features, Improvements
--------------------------
- Added a structure with doxygen documentation of the accident report 
   according to eCall and EN 15722 standards for MSD.

Fixed Bugs, Changes
-------------------
- Clean up in multiple files (mostly in comments)

ToDo
----	
 
 

=====================================
Version 0.031 - 2014/09/08 by Kenneth
=====================================
New Features, Improvements
--------------------------
- Added the Unit Test, which was missing in v0.03 and added the test in main

Fixed Bugs, Changes
-------------------
- Fixed comments style in SPI and Accelerometer driver (/** */ instead of //)

ToDo
----	
- Add state machine for call back in acc and tc72 

Note
----
- sprintf and printf have a huge overhead and are not recommended in embedded systems.
 
 

=================================
Version 0.03 - 2014/09/05 by Andi
=================================
New Features, Improvements
--------------------------
- Completed doxygen documentation in spi and acc driver
- Added sensors_init() function in sensor_scheduler 
- Updated sensor_scheduler to work with current content
- Added scheduler_release() call in the tc72 and acc callback driver to accomodate for the
   sequential sensors read structure
- Defined scheduler delay for control of the reading period
 
Fixed Bugs, Changes
-------------------
- Changed the structure of the SPI driver to make it work properly
- Assembled everything in a fresh project to fix unknown accelerometer data error
- Fixed error where array went out of scope in tc72 driver under setup (moved array
   decleration out of the function). Was causing corrupt memory
- Renamed collect_sensors_sata to sensor_scheduler
- Renamed function read_sensors() to scheduler_release() as it's not being called from the
   drivers callback functions when they are done reading
- Cleaned up drivers in general
 
ToDo
----	
- Minor ajustments might still be needed in multiple files
- Missing documentation in some files



====================================
Version 0.02 - 2014/09/05 by Kenneth
====================================
New Features, Improvements
--------------------------
- unit test included for tc72 (use #define UNIT_TEST to run test)
- tc72 pass MISRA standards, except violation on some rules when calculating temperature
 
Fixed Bugs, Changes
-------------------
- Fixed temperature conversion so that negative values is represented correctly 

ToDo
----	
- MISRA not testet for SPI and timer

 
 
====================================
Version 0.01 - 2014/09/03 by Kenneth
====================================
New Features, Improvements
--------------------------
- First working version of tc72 driver with shared SPI and timer
 
Fixed Bugs, Changes
-------------------

ToDo
----	
- Needs to be checked for MISRA standards


@section mm Memory Map

<table border="0" class="doxtable" >
<tr><th colspan="7">Port / Memory Map</th></tr>
 <tr><th>Port</th><th>Pin</th><th>Direction</th><th>Define</th><th>Description</th><th>Module</th><th>Note</th></tr>
 <tr><td rowspan="8">PORTA</td><td>PA0</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PA1</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PA2</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PA3</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PA4</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PA5</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PA6</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PA7</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td rowspan="8">PORTB</td><td>PB0</td><td>OUT</td><td>SS</td><td>Slave Select</td><td>accelerometer</td><td>SS1</td></tr>
 <tr><td>PB1</td><td>OUT</td><td>CLK (SCK)</td><td>Clock</td><td>spi</td><td>&nbsp;</td></tr>
 <tr><td>PB2</td><td>OUT</td><td>MOSI</td><td>Master out Slave in</td><td>spi</td><td>&nbsp;</td></tr>
 <tr><td>PB3</td><td>IN</td><td>MISO</td><td>Master in Slave out</td><td>spi</td><td>&nbsp;</td></tr>
 <tr><td>PB4</td><td>OUT</td><td>SS</td><td>Slave Select</td><td>tc72</td><td>SS2</td></tr>
 <tr><td>PB5</td><td>OUT</td><td>LOP_GREEN</td><td>Green LED</td><td>lop</td><td>Possible SS3 Not used</td></tr>
 <tr><td>PB6</td><td>OUT</td><td>LOP_RED</td><td>Red LED</td><td>lop</td><td>Possible SS4 Not used</td></tr>
 <tr><td>PB7</td><td>OUT</td><td>LOP_YELLOW</td><td>Yellow LED</td><td>lop</td><td>Possible SS5 Not used</td></tr>
 <tr><td rowspan="8">PORTC</td><td>PC0</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PC1</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PC2</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PC3</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PC4</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PC5</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PC6</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PC7</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td rowspan="8">PORTD</td><td>PD0</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PD1</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PD2</td><td>IN</td><td>RX</td><td>RX line</td><td>USART1</td><td>Used for RS232 out</td></tr>
 <tr><td>PD3</td><td>OUT</td><td>TX</td><td>TX line</td><td>USART1</td><td>Used for RS232 out</td></tr>
 <tr><td>PD4</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PD5</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PD6</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PD7</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td rowspan="8">PORTE</td><td>PE0</td><td>IN</td><td>RX</td><td>RX line</td><td>USART0</td><td>Used by GSM/GPRS/GPS</td></tr>
 <tr><td>PE1</td><td>OUT</td><td>TX</td><td>TX line</td><td>USART0</td><td>Used by GSM/GPRS/GPS</td></tr>
 <tr><td>PE2</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PE3</td><td>OUT</td><td>GSM_E</td><td>GSM enable (active low)</td><td>GSM/GPRS/GPS</td><td>&nbsp;</td></tr>
 <tr><td>PE4</td><td>OUT</td><td>GPS_E</td><td>GPS enable (active low)</td><td>GSM/GPRS/GPS</td><td>&nbsp;</td></tr>
 <tr><td>PE5</td><td>OUT</td><td>MODULE_E</td><td>Module enable (on wait off)</td><td>GSM/GPRS/GPS</td><td>&nbsp;</td></tr>
 <tr><td>PE6</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Not used</td></tr>
 <tr><td>PE7</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Not used</td></tr>
 <tr><td rowspan="8">PORTF</td><td>PF0</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PF1</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PF2</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PF3</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PF4</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PF5</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PF6</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PF7</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td rowspan="8">PORTG</td><td>PG0</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PG1</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PG2</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PG3</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PG4</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PG5</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PG6</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PG7</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td rowspan="8">PORTH</td><td>PH0</td><td>OUT</td><td>R2R_BIT0</td><td>Bit 0 for R2R DAC</td><td>r2r_led</td><td>For DEBUG</td></tr>
 <tr><td>PH1</td><td>OUT</td><td>R2R_BIT1</td><td>Bit 1 for R2R DAC</td><td>r2r_led</td><td>For DEBUG</td></tr>
 <tr><td>PH2</td><td>OUT</td><td>R2R_BIT2</td><td>Bit 2 for R2R DAC</td><td>r2r_led</td><td>For DEBUG</td></tr>
 <tr><td>PH3</td><td>OUT</td><td>R2R_BIT3</td><td>Bit 3 for R2R DAC</td><td>r2r_led</td><td>For DEBUG</td></tr>
 <tr><td>PH4</td><td>OUT</td><td>R2R_LED0</td><td>LED 0 (from right)</td><td>r2r_led</td><td>Not used</td></tr>
 <tr><td>PH5</td><td>OUT</td><td>R2R_LED1</td><td>LED 1 (from right)</td><td>r2r_led</td><td>Not used</td></tr>
 <tr><td>PH6</td><td>OUT</td><td>R2R_LED2</td><td>LED 2 (from right)</td><td>r2r_led</td><td>Not used</td></tr>
 <tr><td>PH7</td><td>OUT</td><td>R2R_LED3</td><td>LED 3 (from right)</td><td>r2r_led</td><td>Not used</td></tr>
 <tr><td rowspan="8">PORTJ</td><td>PJ0</td><td>IN</td><td>CANCEL</td><td>Cancel button</td><td>car_panel</td><td>&nbsp;</td></tr>
 <tr><td>PJ1</td><td>IN</td><td>ALARM</td><td>Alarm button</td><td>car_panel</td><td>&nbsp;</td></tr>
 <tr><td>PJ2</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Not used</td></tr>
 <tr><td>PJ3</td><td>OUT</td><td>CONTROL</td><td>Red LED</td><td>car_panel</td><td>&nbsp;</td></tr>
 <tr><td>PJ4</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Not used</td></tr>
 <tr><td>PJ5</td><td>OUT</td><td>STATUS_RED</td><td>Red LED</td><td>car_panel</td><td>&nbsp;</td></tr>
 <tr><td>PJ6</td><td>OUT</td><td>STATUS_BLUE</td><td>Blue LED</td><td>car_panel</td><td>&nbsp;</td></tr>
 <tr><td>PJ7</td><td>OUT</td><td>STATUS_GREEN</td><td>Green LED</td><td>car_panel</td><td>&nbsp;</td></tr>
 <tr><td rowspan="8">PORTK</td><td>PK0</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
 <tr><td>PK1</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PK2</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PK3</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PK4</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PK5</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PK6</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PK7</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td rowspan="8">PORTL</td><td>PL0</td><td>OUT</td><td>DATA_0</td><td>Pin for 4bit data bit 0</td><td>LCD</td><td>For DEBUG</td></tr>
 <tr><td>PL1</td><td>OUT</td><td>DATA_1</td><td>Pin for 4bit data bit 1</td><td>LCD</td><td>For DEBUG</td></tr>
 <tr><td>PL2</td><td>OUT</td><td>DATA_2</td><td>Pin for 4bit data bit 2</td><td>LCD</td><td>For DEBUG</td></tr>
 <tr><td>PL3</td><td>OUT</td><td>DATA_3</td><td>Pin for 4bit data bit 3</td><td>LCD</td><td>For DEBUG</td></tr>
 <tr><td>PL4</td><td>OUT</td><td>RS</td><td>Pin for RS line</td><td>LCD</td><td>For DEBUG</td></tr>
 <tr><td>PL5</td><td>OUT</td><td>RW</td><td>Pin for RW line</td><td>LCD</td><td>For DEBUG</td></tr>
 <tr><td>PL6</td><td>OUT</td><td>E</td><td>Pin for enable line</td><td>LCD</td><td>For DEBUG</td></tr>
 <tr><td>PL7</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Not used</td></tr>
 <tr><td rowspan="8">PORTM</td><td>PM0</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PM1</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PM2</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PM3</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PM4</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PM5</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PM6</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PM7</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td rowspan="8">PORTN</td><td>PN0</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PN1</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PN2</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PN3</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PN4</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PN5</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PN6</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PN7</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td rowspan="8">PORTP</td><td>PP0</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PP1</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PP2</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PP3</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PP4</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PP5</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PP6</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PP7</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td rowspan="8">PORTQ</td><td>PQ0</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PQ1</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PQ2</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PQ3</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PQ4</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PQ5</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PQ6</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
 <tr><td>PQ7</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>FREE</td></tr>
</table>

*/