<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>VROOM: Private</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="VROOM Logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">VROOM
   &#160;<span id="projectnumber">v0.01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__sim908__priv.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Private<div class="ingroups"><a class="el" href="group__sim908.html">SIM908 GSM/GPRS/GPS</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__sim908__flag"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sim908__flag.html">Flag codes</a></td></tr>
<tr class="memdesc:group__sim908__flag"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines for the flag list responses. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__sim908__response"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sim908__response.html">Response literals</a></td></tr>
<tr class="memdesc:group__sim908__response"><td class="mdescLeft">&#160;</td><td class="mdescRight">defines the AT response string literals <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad21f6a70443b36b20da98f5b4f97a167"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sim908__priv.html#gad21f6a70443b36b20da98f5b4f97a167">_setup_GSM</a> (void)</td></tr>
<tr class="memdesc:gad21f6a70443b36b20da98f5b4f97a167"><td class="mdescLeft">&#160;</td><td class="mdescRight">GSM settings on SIM908 module.  <a href="#gad21f6a70443b36b20da98f5b4f97a167">More...</a><br/></td></tr>
<tr class="separator:gad21f6a70443b36b20da98f5b4f97a167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga342868d77aaae493b2ace2d4019bff01"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sim908__priv.html#ga342868d77aaae493b2ace2d4019bff01">_setup_GPS</a> (void)</td></tr>
<tr class="memdesc:ga342868d77aaae493b2ace2d4019bff01"><td class="mdescLeft">&#160;</td><td class="mdescRight">GPS settings on SIM908 module.  <a href="#ga342868d77aaae493b2ace2d4019bff01">More...</a><br/></td></tr>
<tr class="separator:ga342868d77aaae493b2ace2d4019bff01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga127cbb50c85d3c39692756b19cdc14be"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sim908__priv.html#ga127cbb50c85d3c39692756b19cdc14be">_setup_GPRS_FTP</a> (void)</td></tr>
<tr class="memdesc:ga127cbb50c85d3c39692756b19cdc14be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Settings up GPRS - FTP on SIM908 module.  <a href="#ga127cbb50c85d3c39692756b19cdc14be">More...</a><br/></td></tr>
<tr class="separator:ga127cbb50c85d3c39692756b19cdc14be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga02f683d7f7f5e27900db7b93d0ca0328"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sim908__priv.html#ga02f683d7f7f5e27900db7b93d0ca0328">_GSM_enable</a> (void)</td></tr>
<tr class="memdesc:ga02f683d7f7f5e27900db7b93d0ca0328"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable communication with GSM module.  <a href="#ga02f683d7f7f5e27900db7b93d0ca0328">More...</a><br/></td></tr>
<tr class="separator:ga02f683d7f7f5e27900db7b93d0ca0328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2e4ef963a0f9fa4de73f98b1e95c13de"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sim908__priv.html#ga2e4ef963a0f9fa4de73f98b1e95c13de">_GPS_enable</a> (void)</td></tr>
<tr class="memdesc:ga2e4ef963a0f9fa4de73f98b1e95c13de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable communication with GPS module.  <a href="#ga2e4ef963a0f9fa4de73f98b1e95c13de">More...</a><br/></td></tr>
<tr class="separator:ga2e4ef963a0f9fa4de73f98b1e95c13de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga372589075cc4e9f0a515efa165352060"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sim908__priv.html#ga372589075cc4e9f0a515efa165352060">_wait_for_connection</a> (void)</td></tr>
<tr class="memdesc:ga372589075cc4e9f0a515efa165352060"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waiting for network connection.  <a href="#ga372589075cc4e9f0a515efa165352060">More...</a><br/></td></tr>
<tr class="separator:ga372589075cc4e9f0a515efa165352060"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac8a8fdfe3c884fd1ca12d058a998490d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sim908__priv.html#gac8a8fdfe3c884fd1ca12d058a998490d">_wait_response</a> (volatile uint8_t *__flag, uint8_t __ok_def)</td></tr>
<tr class="memdesc:gac8a8fdfe3c884fd1ca12d058a998490d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waiting for response.  <a href="#gac8a8fdfe3c884fd1ca12d058a998490d">More...</a><br/></td></tr>
<tr class="separator:gac8a8fdfe3c884fd1ca12d058a998490d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac0341ba913c02bc2758633f4c351942f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sim908__priv.html#gac0341ba913c02bc2758633f4c351942f">_check_response</a> (const char *__defined_response)</td></tr>
<tr class="memdesc:gac0341ba913c02bc2758633f4c351942f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checking if the last response is the same as the defined response.  <a href="#gac0341ba913c02bc2758633f4c351942f">More...</a><br/></td></tr>
<tr class="separator:gac0341ba913c02bc2758633f4c351942f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga71109bd4f36d9f02c931bc168e4c7571"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sim908__priv.html#ga71109bd4f36d9f02c931bc168e4c7571">_char_at</a> (uint8_t __index, uint8_t __tail, uint8_t __length)</td></tr>
<tr class="memdesc:ga71109bd4f36d9f02c931bc168e4c7571"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the character at a specific location in the rx buffer.  <a href="#ga71109bd4f36d9f02c931bc168e4c7571">More...</a><br/></td></tr>
<tr class="separator:ga71109bd4f36d9f02c931bc168e4c7571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga559ff1bcf901a9534e2ab406e904d18d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sim908__priv.html#ga559ff1bcf901a9534e2ab406e904d18d">_get_GPS_response</a> (void)</td></tr>
<tr class="memdesc:ga559ff1bcf901a9534e2ab406e904d18d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends the get gps info command and waits for the response.  <a href="#ga559ff1bcf901a9534e2ab406e904d18d">More...</a><br/></td></tr>
<tr class="separator:ga559ff1bcf901a9534e2ab406e904d18d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7a59f3daa65e05c1fcab504ce740fc6"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sim908__priv.html#gae7a59f3daa65e05c1fcab504ce740fc6">_set_UTC_sec</a> (const char *__utc_raw)</td></tr>
<tr class="memdesc:gae7a59f3daa65e05c1fcab504ce740fc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the timestamp in MSD structure.  <a href="#gae7a59f3daa65e05c1fcab504ce740fc6">More...</a><br/></td></tr>
<tr class="separator:gae7a59f3daa65e05c1fcab504ce740fc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae5315d2e7f8cba9d7c9cb2afb718a6fe"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sim908__priv.html#gae5315d2e7f8cba9d7c9cb2afb718a6fe">_get_lat_long</a> (const char *__lat_long_raw)</td></tr>
<tr class="memdesc:gae5315d2e7f8cba9d7c9cb2afb718a6fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the latitude or longitude in an 32bit integer from a string.  <a href="#gae5315d2e7f8cba9d7c9cb2afb718a6fe">More...</a><br/></td></tr>
<tr class="separator:gae5315d2e7f8cba9d7c9cb2afb718a6fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9df3f4fc8c158c61402f3c7971f5dd2b"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sim908__priv.html#ga9df3f4fc8c158c61402f3c7971f5dd2b">_set_direction</a> (const char *__direction_raw)</td></tr>
<tr class="memdesc:ga9df3f4fc8c158c61402f3c7971f5dd2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the direction in MSD structure.  <a href="#ga9df3f4fc8c158c61402f3c7971f5dd2b">More...</a><br/></td></tr>
<tr class="separator:ga9df3f4fc8c158c61402f3c7971f5dd2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f6e8abc3cdc3e1a50179142e001d007"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sim908__priv.html#ga8f6e8abc3cdc3e1a50179142e001d007">_raw_to_array</a> (char **__output)</td></tr>
<tr class="memdesc:ga8f6e8abc3cdc3e1a50179142e001d007"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cuts up the gps response and puts it into memory with a pointer to each value.  <a href="#ga8f6e8abc3cdc3e1a50179142e001d007">More...</a><br/></td></tr>
<tr class="separator:ga8f6e8abc3cdc3e1a50179142e001d007"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad171996bb9cb55c9129d80f54e2de08"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sim908__priv.html#gaad171996bb9cb55c9129d80f54e2de08">_set_MSD_filename</a> (const char *__UTC_raw)</td></tr>
<tr class="memdesc:gaad171996bb9cb55c9129d80f54e2de08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the filename of the MSD.  <a href="#gaad171996bb9cb55c9129d80f54e2de08">More...</a><br/></td></tr>
<tr class="separator:gaad171996bb9cb55c9129d80f54e2de08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf7ea7247442a045e87b943845972d854"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sim908__priv.html#gaf7ea7247442a045e87b943845972d854">_SIM908_callback</a> (char data)</td></tr>
<tr class="memdesc:gaf7ea7247442a045e87b943845972d854"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function to handle all communication from the sim908 module Procedure:  <a href="#gaf7ea7247442a045e87b943845972d854">More...</a><br/></td></tr>
<tr class="separator:gaf7ea7247442a045e87b943845972d854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd705bbbba4f7490f6b2309fdea0287b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sim908__priv.html#gacd705bbbba4f7490f6b2309fdea0287b">_PC_callback</a> (char data)</td></tr>
<tr class="memdesc:gacd705bbbba4f7490f6b2309fdea0287b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function to handle debug comminication with pc on uart1 When receiving data it is echoed to both uart0 (sim908) and back to pc on uart1.  <a href="#gacd705bbbba4f7490f6b2309fdea0287b">More...</a><br/></td></tr>
<tr class="separator:gacd705bbbba4f7490f6b2309fdea0287b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga71109bd4f36d9f02c931bc168e4c7571"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char _char_at </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>__index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>__tail</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>__length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the character at a specific location in the rx buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uint8_t</td><td>__index - index of the char to return </td></tr>
    <tr><td class="paramname">uint8_t</td><td>__tail - index of the last char of the response </td></tr>
    <tr><td class="paramname">uint8_t</td><td>__length - the length of the response</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>char - the character at the desired location </dd></dl>

<p>Definition at line <a class="el" href="sim908_8c_source.html#l00533">533</a> of file <a class="el" href="sim908_8c_source.html">sim908.c</a>.</p>

</div>
</div>
<a class="anchor" id="gac0341ba913c02bc2758633f4c351942f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool _check_response </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>__defined_response</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checking if the last response is the same as the defined response. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">const</td><td>char *__defined_response - the string literal to check on</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool - true if response is considered the same else false </dd></dl>

<p>Definition at line <a class="el" href="sim908_8c_source.html#l00511">511</a> of file <a class="el" href="sim908_8c_source.html">sim908.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga559ff1bcf901a9534e2ab406e904d18d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _get_GPS_response </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends the get gps info command and waits for the response. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section note"><dt>Note</dt><dd>response format: &lt;mode, longitude, latitude, altitude, UTC time, TTFF, Satellite in view, speed over ground, course over ground&gt; </dd></dl>

<p>Definition at line <a class="el" href="sim908_8c_source.html#l00548">548</a> of file <a class="el" href="sim908_8c_source.html">sim908.c</a>.</p>

</div>
</div>
<a class="anchor" id="gae5315d2e7f8cba9d7c9cb2afb718a6fe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t _get_lat_long </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>__lat_long_raw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the latitude or longitude in an 32bit integer from a string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">const</td><td>char *__lat_long_raw - pointer to string containing the coordinate</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int32_t - coordinate in a milliarcsecond format </dd></dl>

<p>Definition at line <a class="el" href="sim908_8c_source.html#l00592">592</a> of file <a class="el" href="sim908_8c_source.html">sim908.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga2e4ef963a0f9fa4de73f98b1e95c13de"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _GPS_enable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enable communication with GPS module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="sim908_8c_source.html#l00453">453</a> of file <a class="el" href="sim908_8c_source.html">sim908.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga02f683d7f7f5e27900db7b93d0ca0328"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _GSM_enable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enable communication with GSM module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="sim908_8c_source.html#l00439">439</a> of file <a class="el" href="sim908_8c_source.html">sim908.c</a>.</p>

</div>
</div>
<a class="anchor" id="gacd705bbbba4f7490f6b2309fdea0287b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _PC_callback </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function to handle debug comminication with pc on uart1 When receiving data it is echoed to both uart0 (sim908) and back to pc on uart1. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">char</td><td>data - single char received via uart from pc</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="sim908_8c_source.html#l00829">829</a> of file <a class="el" href="sim908_8c_source.html">sim908.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga8f6e8abc3cdc3e1a50179142e001d007"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _raw_to_array </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>__output</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cuts up the gps response and puts it into memory with a pointer to each value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">char</td><td>**__output - pointer to reserved memory where the data is going to be stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="sim908_8c_source.html#l00637">637</a> of file <a class="el" href="sim908_8c_source.html">sim908.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga9df3f4fc8c158c61402f3c7971f5dd2b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint8_t _set_direction </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>__direction_raw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the direction in MSD structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">const</td><td>char *__direction_raw - pointer to array of the course over ground string from GPS response</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint8_t - direction in degrees </dd></dl>

<p>Definition at line <a class="el" href="sim908_8c_source.html#l00623">623</a> of file <a class="el" href="sim908_8c_source.html">sim908.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaad171996bb9cb55c9129d80f54e2de08"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _set_MSD_filename </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>__UTC_raw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the filename of the MSD. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">const</td><td>char *__UTC_raw - pointer to array of the timestamp string from GPS response</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Format: 2014-10-12_13.17.34 </dd></dl>

<p>Definition at line <a class="el" href="sim908_8c_source.html#l00659">659</a> of file <a class="el" href="sim908_8c_source.html">sim908.c</a>.</p>

</div>
</div>
<a class="anchor" id="gae7a59f3daa65e05c1fcab504ce740fc6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t _set_UTC_sec </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>__utc_raw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the timestamp in MSD structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">const</td><td>char *__utc_raw - pointer to array of the timestamp string from GPS response</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint32_t - 4 bytes unsigned in UTC seconds (time in seconds since 1970) </dd></dl>

<p>Definition at line <a class="el" href="sim908_8c_source.html#l00564">564</a> of file <a class="el" href="sim908_8c_source.html">sim908.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga127cbb50c85d3c39692756b19cdc14be"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _setup_GPRS_FTP </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Settings up GPRS - FTP on SIM908 module. </p>
<ol type="1">
<li>Set bearer parameter:<ul>
<li>AT+SAPBR=3,1,"Contype","GPRS"</li>
<li>AT+SAPBR=3,1,"APN","&lt;APN&gt;"</li>
</ul>
</li>
<li>Use bearer profile:<ul>
<li>AT+FTPCID=1</li>
</ul>
</li>
<li>FTP login:<ul>
<li>AT+FTPSERV="&lt;Server add&gt;"</li>
<li>AT+FTPPORT=&lt;Server port&gt;=""&gt;</li>
<li>AT+FTPUN="&lt;Username&gt;"</li>
<li>AT+FTPPW=&lt;Password&gt;</li>
</ul>
</li>
<li>Configure put<ul>
<li>AT+FTPPUTPATH="&lt;Path&gt;"</li>
<li>AT+FTPTYPE="I" - (binary)</li>
<li>AT+FTPPUTOPT="STOR"</li>
</ul>
</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="sim908_8c_source.html#l00410">410</a> of file <a class="el" href="sim908_8c_source.html">sim908.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga342868d77aaae493b2ace2d4019bff01"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _setup_GPS </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>GPS settings on SIM908 module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="sim908_8c_source.html#l00378">378</a> of file <a class="el" href="sim908_8c_source.html">sim908.c</a>.</p>

</div>
</div>
<a class="anchor" id="gad21f6a70443b36b20da98f5b4f97a167"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _setup_GSM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>GSM settings on SIM908 module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="sim908_8c_source.html#l00358">358</a> of file <a class="el" href="sim908_8c_source.html">sim908.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaf7ea7247442a045e87b943845972d854"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _SIM908_callback </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function to handle all communication from the sim908 module Procedure: </p>
<ol type="1">
<li>Store in circular buffer</li>
<li>Check for carriage return/line feed characters</li>
<li>If there has been one carriage return and one line feed, check for response</li>
<li>If UART_DEBUG is defined, echo data char to uart1</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">char</td><td>data - single char received via uart from the sim908 module</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="sim908_8c_source.html#l00698">698</a> of file <a class="el" href="sim908_8c_source.html">sim908.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga372589075cc4e9f0a515efa165352060"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _wait_for_connection </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Waiting for network connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="sim908_8c_source.html#l00467">467</a> of file <a class="el" href="sim908_8c_source.html">sim908.c</a>.</p>

</div>
</div>
<a class="anchor" id="gac8a8fdfe3c884fd1ca12d058a998490d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool _wait_response </td>
          <td>(</td>
          <td class="paramtype">volatile uint8_t *&#160;</td>
          <td class="paramname"><em>__flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>__ok_def</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Waiting for response. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">volatile</td><td>uint8_t *__flag - the flag to check on </td></tr>
    <tr><td class="paramname">uint8_t</td><td>__ok_def - the definition of an 'OK' response</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool - true if 'OK' else false </dd></dl>

<p>Definition at line <a class="el" href="sim908_8c_source.html#l00483">483</a> of file <a class="el" href="sim908_8c_source.html">sim908.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Dec 11 2014 14:33:23 for VROOM by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
